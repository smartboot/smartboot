---
title: 快速启动
date: 2023-07-19 21:29:22
permalink: /smart-mqtt/how-to-start.html
---

## 获得授权凭证
对于获得smart-mqtt企业版使用授权资格的用户，我们会为发放一份名为：`License.shield`的授权文件。
通过该文件，可以开启smart-mqtt企业版的各项高级特性。
::: warning 温馨提示
获得授权资格的企业有义务，也有责任妥善保管该授权文件。
若出现违规行为致使非授权对象使用了企业版功能，将被列入黑名单且不再允许使用smartboot相关技术和产品。
:::

## 下载企业版发行包
对于已获得授权资格的企业客户，我们会为其开放 **smart-mqtt企业版发行包** 的下载权限。

建议下载最新版本的jar包，并连同`License.shield`上传至待部署的服务器。
![](./img/packages.png)

## 调整配置文件
示例：
```yaml
broker:
  port: 1883
  host: 10.0.24.4
  threadNum: 16
  maxInflight: 8
  retryInterval: 30
  connect:
    idleTimeout: 5000

plugins:
  - enterprise:
      metric:
        enable: true
        period: 5
      openapi:
        enable: true
        port: 8083
        host: 10.0.24.4
      cluster:
        enable: true
        localAddress: mqtt://${current_node}:1883
        nodes:
          - mqtt://${node_1}:1883
          - mqtt://${node_2}:1883
          - mqtt://${node_3}:1883
          - mqtt://${node_4}:1883
  - database:
      dbType: mysql
      url: jdbc:mysql://${host}:${port}/smart_mqtt?autoReconnect=true
      username: ${username}
      password: ${password}
  - websocket:
      port: 1884
```
## 启动服务
待配置文件调整完毕后， 执行以下命令启动 smart-mqtt，需根据实际情况调整`${version}`值。
```shell
nohup java -Dlicense=License.shield \
  -DbrokerConfig=smart-mqtt.yaml \
  -jar  smart-mqtt-broker-enterprise-${version}.jar &
```
若启动成功，执行`tail -f nohup.out` 将会看到以下信息：
```shell
                               _                         _    _       _                  _                  
                              ( )_                      ( )_ ( )_    ( )                ( )                 
  ___   ___ ___     _ _  _ __ | ,_)     ___ ___     _ _ | ,_)| ,_)   | |_    _ __   _   | |/')    __   _ __ 
/',__)/' _ ` _ `\ /'_` )( '__)| |     /' _ ` _ `\ /'_` )| |  | |     | '_`\ ( '__)/'_`\ | , <   /'__`\( '__)
\__, \| ( ) ( ) |( (_| || |   | |_    | ( ) ( ) |( (_) || |_ | |_    | |_) )| |  ( (_) )| |\`\ (  ___/| |   
(____/(_) (_) (_)`\__,_)(_)   `\__)   (_) (_) (_)`\__, |`\__)`\__)   (_,__/'(_)  `\___/'(_) (_)`\____)(_)   
                                                     | |                                                    
                                                     (_)                                                    
 :: smart-mqtt broker:: (${version})
❤️Gitee: https://gitee.com/smartboot/smart-mqtt
Github: https://github.com/smartboot/smart-mqtt
Support: zhengjunweimail@163.com
🎉start smart-mqtt success! [host:x.x.x.x port:1883]
```