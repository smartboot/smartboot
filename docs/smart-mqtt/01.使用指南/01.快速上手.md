---
title: 快速上手
date: 2022-11-12 14:58:18
permalink: /smart-mqtt/quickstart.html
---

![](./img/framework.svg)

## 一、项目仓库

Gitee（主仓库）：[https://gitee.com/smartboot/smart-mqtt](https://gitee.com/smartboot/smart-mqtt)

Github（镜像同步）：[https://github.com/smartboot/smart-mqtt](https://github.com/smartboot/smart-mqtt)

开发环境：Java 8

## 二、运行程序

下面将以不同的形式为大家演示 smart-mqtt Broker 服务的启动过程。

### 2.1 源码编译

1. 下载工程源码。
    ```shell
    git clone https://gitee.com/smartboot/smart-mqtt.git
    ```
2. 导入至 IDEA 或 Eclipse，并用 Maven 编译工程。
    ```shell
    mvn package
    ```
3. 打开 smart-mqtt-broker 模块中的 Bootstrap 类，启动其 main 函数。
   ![](./img/bootstrap.png)

### 2.2 Jar 包启动（Linux、macOS、Windows）

1. 访问 [Gitee](https://gitee.com/smartboot/smart-mqtt/releases) 下载要安装的 jar 包：smart-mqtt-broker-community-x.jar。
2. 启动 smart-mqtt Broker 服务
    ```shell
    java -jar smart-mqtt-broker-community-${version}.jar
    ```
3. 停止 smart-mqtt Broker：`CTRL+C`
4. 卸载 smart-mqtt Broker  
   直接删除 smart-mqtt-broker-community-${version}.jar 文件即可。

### 2.3 Docker 启动

如果你手头正好有一套 Docker 环境，那会是一件非常美好的事。因为，你只需要通过一两个操作指令，便能搭建出 smart-mqtt broker 服务。

> 镜像地址：[https://hub.docker.com/r/smartboot/smart-mqtt](https://hub.docker.com/r/smartboot/smart-mqtt)

下面提供两种方式用于启动 smart-mqtt 的 docker 容器：

- 方式一：docker run

```shell
docker run -d --name smart-mqtt -p 1883:1883 smartboot/smart-mqtt:latest
```

- 方式二：docker compose(推荐)
    ```yaml
    services:
      smart-mqtt:
        container_name: smart-mqtt
        hostname: smart-mqtt
        image: smartboot/smart-mqtt:latest
        ports:
          - 1883:1883/tcp
        read_only: true
        restart: always
        security_opt:
          - no-new-privileges:true
        user: root:root
        logging:
          driver: "json-file"
          options:
            max-size: "100m"
            max-file: "1"
    version: '3.7'
    ```

## 三、客户端连接

您可选择任意一款MQTT客户端工具用于连接 smart-mqtt broker。

| 工具	         | 描述	                            | 地址                                                                              |                             
|-------------|--------------------------------|---------------------------------------------------------------------------------|
| MQTTX       | 	MQTT 桌面客户端工具                  | 	[https://mqttx.app/zh](https://mqttx.app/zh)                                   |
| MQTT X Web	 | 运行在浏览器上的 MQTT WebSocket 客户端工具。 | 	[http://www.emqx.io/online-mqtt-client](http://www.emqx.io/online-mqtt-client) |