---
title: 产品手册
date: 2022-12-04 16:44:58
permalink: /smart-servlet/
article: false
---
![](./img/smart-servlet.svg)
<p align="center">
  <a href='https://gitee.com/smartboot/smart-servlet' target="_blank"><img src='https://gitee.com/smartboot/smart-servlet/badge/star.svg?theme=gvp' alt='star' class="no-zoom"/></a>
  <a href='https://gitee.com/smartboot/smart-servlet' target="_blank"><img src='https://gitee.com/smartboot/smart-servlet/badge/fork.svg?theme=gvp' alt='fork' class="no-zoom"/></a>
  <a href="https://www.murphysec.com/console/report/1758463839189479424/1758464923148718080?allow=1" alt="OSCS Status" target="_blank"><img src="https://www.oscs1024.com/platform/badge/smartboot/smart-servlet.svg?size=small" class="no-zoom"/></a>
  <a href="https://github.com/smartboot/smart-servlet" target="_blank"><img src='https://img.shields.io/github/stars/smartboot/smart-servlet' alt='GitHub stars' class="no-zoom"></a>
  <a href="https://github.com/smartboot/smart-servlet" target="_blank"><img src='https://img.shields.io/github/forks/smartboot/smart-servlet' alt='GitHub forks' class="no-zoom"></a>
</p>

## 1. 简介
smart-servlet 是一款实现了 Servlet 4.0 规范，支持多应用隔离部署的的 Web 容器。
与此同时，smart-servlet 还是一款插件化容器，基于内置的沙箱环境确保 smart-servlet 拥有最精简的运行能力，用户还可以通过自定义插件扩展容器的服务能力。

**产品特色**
- 国产血统：核心技术 100% 全栈自研。
- 性能优越：搭载最新版通信微内核 smart-socket。
- 安全可靠：严格遵循协议规范；支持加密传输方式。
- 简洁易用：支持 War 包、springboot、maven-plugin等多种运行模式，使用体验100%兼容 Tomcat。

**目标用户**
- 有着信创需求的企业用户。
- 对服务并发能力要求高的企业用户。

**下载：**
- [smart-servlet v1.4 企业试用版](https://drive.weixin.qq.com/s?k=AGMAIQfgABUYUZM4xg)
- [springboot v1.4 企业版资源包](https://drive.weixin.qq.com/s?k=AGMAIQfgABUTHZdrUQ)
## 2. 快速上手

我们提供了三种方式启用 smart-servlet，您可根据实际情况选择其中适用的一种。

### 方式一：maven 插件
这是一种类似：`tomcat-maven-plugin`的使用方式，通常应用于 Java Web 工程的本地开发环境。
集成该插件只需在 pom.xml 中加入以下代码，便可以在 IDE 中启动 servlet 服务。
```xml
<build>
    <plugins>
        <plugin>
            <groupId>org.smartboot.servlet</groupId>
            <artifactId>smart-servlet-maven-plugin</artifactId>
            <version>${最新版本号}</version><!--最新版本 -->
            <configuration>
                <port>8080</port>
                <path>/portal</path>
            </configuration>
        </plugin>
    </plugins>
</build>
```
插件的版本建议采用最新版本，另外主要的配置项包括：
- port：servlet服务启动的监听端口
- path：Servlet容器上下文路径，即 ContextPath，通常以`/`表示。当然也支持自定义，但必须以`/`开头

完成配置后在控制台输入：`mvn package smart-servlet:run`即可。

### 方式二：smart-servlet-spring-boot-starter
用过 springboot 的 spring-boot-starter-tomcat 或者 spring-boot-starter-undertow 的朋友应该对此不陌生。

smart-servlet-spring-boot-starter 本质上就是 smart-servlet 对 spring-boot-starter-web 的另一种适配。

只需按照以下方式调整 springboot 工程中 pom.xml 文件的配置，便可将 springboot 的默认 Servlet 容器替换成 smart-servlet。

```xml
<dependencys>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
        <exclusions>
            <!-- Exclude the Tomcat dependency -->
            <exclusion>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-starter-tomcat</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <!-- Use smart-servlet instead -->
    <dependency>
        <groupId>org.smartboot.servlet</groupId>
        <artifactId>smart-servlet-spring-boot-starter</artifactId>
        <version>${最新版本号}</version><!--最新版本 -->
    </dependency>
</dependencys>
```
#### 企业版集成
springboot 的企业版在集成上相较于开源版会多出一些额外的步骤。

因为所依赖的企业版 jar 包没有开源，也没有发布到 maven 中央仓库。
用户需要通过官方渠道获取相应的资源包，再导入至本地工程中完成 smart-servlet 企业版的集成。

**步骤一：**

获取 springboot 资源包 **smart-servlet-springboot-${version}.tar.gz** 并解压。
解压后的目录内容如下：
![](./img/springboot_res.png)

**步骤二：**

拷贝资源文件至你的 springboot 工程内。具体如下：
- lib 目录：拷贝至 springboot 工程目录下。
- smart-servlet 目录：拷贝至 springboot 工程的 `src/main/resources` 路径下。

**步骤三：**
修改springboot工程内的pom.xml文件，添加如下配置：
```xml
 <dependency>
    <groupId>org.smartboot.servlet</groupId>
    <artifactId>base</artifactId>
    <version>1.0</version><!--无需修改此配置-->
    <scope>system</scope>
    <systemPath>${pom.basedir}/lib/base-1.2.jar</systemPath><!--根据实际情况修改路径-->
</dependency>
```
另外，需要在 springboot 打包插件`spring-boot-maven-plugin`中添加配置：`includeSystemScope`，
该配置的作用是在打可执行jar包时，将 smart-servlet 企业版的依赖包也包含进去。
```xml
<build>
    <plugins>
        <plugin>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-maven-plugin</artifactId>
            <configuration>
                <!-- 包含systemPath指定的依赖 -->
                <includeSystemScope>true</includeSystemScope>
            </configuration>
        </plugin>
    </plugins>
</build>
```
**自此，便完成了 smart-servlet 企业版的集成。**
![](./img/springboot_demo.png)


### 方式三：发行包
发行包适用于 War 包的部署方式，也是生产环境中常用的一种形式。

