FAQ
===

####1. 为什么服务端AioSession引入流控机制？  
流控是smart-socket的一种自我保护机制。假设Client/Server正常情况下按下图方式进行通信，客户端的每一个REQ消息，服务端都会返回对应的RSP消息，并且客户端可以批量发送多个REQ消息。  
![输入图片说明](https://static.oschina.net/uploads/img/201802/27103805_F5Cm.png "在这里输入图片标题")
但是因为某种原因导致客户端发送了大量的REQ消息，但是没有去接受服务端返回的RSP消息。此时会在服务端积压大量待发送的RSP消息，随着不断有新的REQ消息进来，服务端RSP消息积压情况的愈加严重，直至服务端崩盘。
**流控机制是服务端通过检测RSP消息的积压情况，在可控范围内及时暂停客户端REQ消息的读取。直至客户端接收RSP消息使服务端的积压量下降至安全阈值后，服务端才再次开放REQ消息的接收通道。**

