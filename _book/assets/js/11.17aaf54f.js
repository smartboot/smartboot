(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{336:function(t,s,a){t.exports=a.p+"assets/img/framework.87b57b29.svg"},337:function(t,s,a){t.exports=a.p+"assets/img/bootstrap.4bac6732.png"},398:function(t,s,a){"use strict";a.r(s);var r=a(7),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("img",{attrs:{src:a(336),alt:""}})]),t._v(" "),s("h2",{attrs:{id:"一、项目仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、项目仓库"}},[t._v("#")]),t._v(" 一、项目仓库")]),t._v(" "),s("p",[t._v("Gitee（主仓库）："),s("a",{attrs:{href:"https://gitee.com/smartboot/smart-mqtt",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/smartboot/smart-mqtt"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Github（镜像同步）："),s("a",{attrs:{href:"https://github.com/smartboot/smart-mqtt",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/smartboot/smart-mqtt"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("开发环境：Java 8")]),t._v(" "),s("h2",{attrs:{id:"二、运行程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、运行程序"}},[t._v("#")]),t._v(" 二、运行程序")]),t._v(" "),s("p",[t._v("下面将以不同的形式为大家演示 smart-mqtt Broker 服务的启动过程。")]),t._v(" "),s("h3",{attrs:{id:"_2-1-源码编译"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-源码编译"}},[t._v("#")]),t._v(" 2.1 源码编译")]),t._v(" "),s("ol",[s("li",[t._v("下载工程源码。"),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://gitee.com/smartboot/smart-mqtt.git\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[t._v("导入至 IDEA 或 Eclipse，并用 Maven 编译工程。"),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("mvn package\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[t._v("打开 smart-mqtt-broker 模块中的 Bootstrap 类，启动其 main 函数。\n"),s("img",{attrs:{src:a(337),alt:""}})])]),t._v(" "),s("h3",{attrs:{id:"_2-2-jar-包启动-linux、macos、windows"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-jar-包启动-linux、macos、windows"}},[t._v("#")]),t._v(" 2.2 Jar 包启动（Linux、macOS、Windows）")]),t._v(" "),s("ol",[s("li",[t._v("访问 "),s("a",{attrs:{href:"https://gitee.com/smartboot/smart-mqtt/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee"),s("OutboundLink")],1),t._v(" 下载要安装的 jar 包：smart-mqtt-broker-community-x.jar。")]),t._v(" "),s("li",[t._v("启动 smart-mqtt Broker 服务"),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("java")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-jar")]),t._v(" smart-mqtt-broker-community-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${version}")]),t._v(".jar\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[t._v("停止 smart-mqtt Broker："),s("code",[t._v("CTRL+C")])]),t._v(" "),s("li",[t._v("卸载 smart-mqtt Broker"),s("br"),t._v("\n直接删除 smart-mqtt-broker-community-${version}.jar 文件即可。")])]),t._v(" "),s("h3",{attrs:{id:"_2-3-docker-启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-docker-启动"}},[t._v("#")]),t._v(" 2.3 Docker 启动")]),t._v(" "),s("p",[t._v("如果你手头正好有一套 Docker 环境，那会是一件非常美好的事。因为，你只需要通过一两个操作指令，便能搭建出 smart-mqtt broker 服务。")]),t._v(" "),s("blockquote",[s("p",[t._v("镜像地址："),s("a",{attrs:{href:"https://hub.docker.com/r/smartboot/smart-mqtt",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://hub.docker.com/r/smartboot/smart-mqtt"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("下面提供两种方式用于启动 smart-mqtt 的 docker 容器：")]),t._v(" "),s("ul",[s("li",[t._v("方式一：docker run")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--name")]),t._v(" smart-mqtt "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1883")]),t._v(":1883 smartboot/smart-mqtt:latest\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("方式二：docker compose(推荐)"),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("smart-mqtt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" smart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mqtt\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" smart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mqtt\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" smartboot/smart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mqtt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 1883"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("1883/tcp\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("read_only")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("security_opt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("new"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("privileges"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("root\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("logging")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("driver")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"json-file"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("max-size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"100m"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("max-file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3.7'")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])])])]),t._v(" "),s("h2",{attrs:{id:"三、客户端连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、客户端连接"}},[t._v("#")]),t._v(" 三、客户端连接")]),t._v(" "),s("p",[t._v("您可选择任意一款MQTT客户端工具用于连接 smart-mqtt broker。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("工具")]),t._v(" "),s("th",[t._v("描述")]),t._v(" "),s("th",[t._v("地址")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("MQTTX")]),t._v(" "),s("td",[t._v("MQTT 桌面客户端工具")]),t._v(" "),s("td",[s("a",{attrs:{href:"https://mqttx.app/zh",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://mqttx.app/zh"),s("OutboundLink")],1)])]),t._v(" "),s("tr",[s("td",[t._v("MQTT X Web")]),t._v(" "),s("td",[t._v("运行在浏览器上的 MQTT WebSocket 客户端工具。")]),t._v(" "),s("td",[s("a",{attrs:{href:"http://www.emqx.io/online-mqtt-client",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.emqx.io/online-mqtt-client"),s("OutboundLink")],1)])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);