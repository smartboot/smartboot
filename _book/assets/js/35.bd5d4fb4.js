(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{381:function(a,t,s){"use strict";s.r(t);var e=s(7),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("smart-mqtt 配置文件采用的 yaml 格式，其配置结构分为两大块：Broker基础配置、插件配置。")]),a._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Broker基础配置")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("broker")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("key_1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" value\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("key_2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" value\n  \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 插件配置  ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("plugins")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("plugin-A")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("key_1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" value\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("key_2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" value\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("plugin-B")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("key_4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" value\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("key_5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" value\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br")])]),t("h2",{attrs:{id:"broker基础配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#broker基础配置"}},[a._v("#")]),a._v(" Broker基础配置")]),a._v(" "),t("h3",{attrs:{id:"port"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#port"}},[a._v("#")]),a._v(" port")]),a._v(" "),t("p",[a._v("Broker 服务端口号，默认：1883")]),a._v(" "),t("h3",{attrs:{id:"host"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#host"}},[a._v("#")]),a._v(" host")]),a._v(" "),t("p",[a._v("Broker 服务绑定的本地 IP 地址，若为空则所有 IP 可用。")]),a._v(" "),t("h3",{attrs:{id:"threadnum"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#threadnum"}},[a._v("#")]),a._v(" threadNum")]),a._v(" "),t("p",[a._v("Broker 的服务线程数，默认等同于当前服务器的 CPU 核数。")]),a._v(" "),t("h3",{attrs:{id:"readbuffersize"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#readbuffersize"}},[a._v("#")]),a._v(" readBufferSize")]),a._v(" "),t("p",[a._v("读缓冲区大小，默认："),t("strong",[a._v("1024")]),a._v("。 每个TCP连接都会占用"),t("code",[a._v("readBufferSize")]),a._v("大小的内存空间。")]),a._v(" "),t("p",[a._v("合理的大小设置会带来更好的通信性能，具体参考《"),t("RouterLink",{attrs:{to:"/smart-mqtt/buffer-optimize.html"}},[a._v("缓冲区调优")]),a._v("》。")],1),a._v(" "),t("h3",{attrs:{id:"maxpacketsize"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#maxpacketsize"}},[a._v("#")]),a._v(" maxPacketSize")]),a._v(" "),t("p",[a._v("限制单个MQTT消息包的最大字节数，默认：1048576（1MB）")]),a._v(" "),t("p",[a._v("如果实际场景中的消息大小超过该默认值，可适当调大。")]),a._v(" "),t("h3",{attrs:{id:"maxkeepalivetime"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#maxkeepalivetime"}},[a._v("#")]),a._v(" maxKeepAliveTime")]),a._v(" "),t("h3",{attrs:{id:"pushthreadnum"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pushthreadnum"}},[a._v("#")]),a._v(" pushThreadNum")]),a._v(" "),t("p",[a._v("消息推送服务的线程数，默认等同于当前服务器的 CPU 核数。")]),a._v(" "),t("h3",{attrs:{id:"noconnectidletimeout"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#noconnectidletimeout"}},[a._v("#")]),a._v(" noConnectIdleTimeout")]),a._v(" "),t("p",[a._v("网络连接建立后，如果服务端在合理的时间内没有收到 CONNECT 报文，服务端应该关闭这个连接。")]),a._v(" "),t("p",[a._v("单位："),t("strong",[a._v("毫秒")]),a._v("，默认："),t("strong",[a._v("5000")]),a._v("。")]),a._v(" "),t("h3",{attrs:{id:"maxinflight"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#maxinflight"}},[a._v("#")]),a._v(" maxInflight")]),a._v(" "),t("p",[a._v("在完成应答前，同时投递的 QoS 1 和 QoS 2 消息的最大数量。")]),a._v(" "),t("h3",{attrs:{id:"完整示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#完整示例"}},[a._v("#")]),a._v(" 完整示例")]),a._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("broker")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1883")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("threadNum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("maxInflight")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("retryInterval")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("30")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("maxPacketSize")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1048576")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("readBufferSize")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4096")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("noConnectIdleTimeout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5000")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br")])]),t("h2",{attrs:{id:"插件配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#插件配置"}},[a._v("#")]),a._v(" 插件配置")]),a._v(" "),t("p",[a._v("待补充...")])])}),[],!1,null,null,null);t.default=r.exports}}]);